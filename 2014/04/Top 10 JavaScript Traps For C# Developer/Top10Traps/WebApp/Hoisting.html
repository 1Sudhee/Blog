<!DOCTYPE html>
<html>
<head>
    <title>JavaScript variable and function hoisting</title>
    <script type="text/javascript">

        // http://appendto.com/2010/10/how-good-c-habits-can-encourage-bad-javascript-habits-part-3/

        /* Variable Hoisting 

        var someVariable = undefined;
        console.log(someVariable); //undefined
        someVariable = 42; //Global variable
        console.log(someVariable); // 42

        function doSomething() {
            //Because of variable hoisting var is 
            //moved to the top of the function and set to undefined
            console.log(someVariable); // undefined

            var someVariable = 1
            console.log(someVariable); // 1
            //This above line of code didn't set the global
            //instance, but the local one that was hoisted

            console.log(window.someVariable); // 42

            if (true) {
                someVariable = 10;
            }

            console.log(someVariable);
        }

        doSomething();

        console.log(someVariable); // 42
        //Because of variable hoisting in  
        //doSomething the code inside never updated
        //the global variable

        */


        /* Function Hoisting 

        try {
            sayHello(); //Error because not defined
        } catch (e) {
            //Property 'sayHello' of object [object DOMWindow]
            //is not a function
            console.log(e.message);
        }
        sayGoodbye(); //Goodbye

        //Function Expression
        var sayHello = function () {
            console.log("Hello");
        };

        sayHello(); //Hello
        sayGoodbye(); //Goodbye

        //Function Statement
        function sayGoodbye() {
            console.log("Goodbye");
        }

        sayHello(); //Hello
        sayGoodbye(); //Goodbye
        */


        /* Function Hoisting - JS interpretation */

        //How JavaScript Interprets It

        var sayHello = undefined,
            sayGoodbye = undefined;

        //Function Statement was converted to a
        //function expression and both the variable
        //and assignment were hoisted to the top of
        //the function
        sayGoodbye = function () {
            console.log("Goodbye");
        };

        try {
            sayHello(); //error
        } catch (e) {
            //Property 'sayHello' of object [object DOMWindow]
            //is not a function
            console.log(e.message);
        }
        sayGoodbye(); //Goodbye

        //The declaration of the Function Expression was
        //hoisted to the top of the function, but the
        //assignment stayed in the original location
        sayHello = function () {
            console.log("Hello");
        };

        sayHello(); //Hello
        sayGoodbye(); //Goodbye

        //sayGoodbye Function statement was here, but got
        //completely hoisted to the top of the function

        sayHello(); //Hello
        sayGoodbye(); //Goodbye


    </script>
</head>
<body>

</body>
</html>
